"use strict";(self.webpackChunkdevtoys_web=self.webpackChunkdevtoys_web||[]).push([[791],{3791:(Y,T,s)=>{s.r(T),s.d(T,{FormattersModule:()=>v});var y=s(6895),F=s(9132),C=s(7274),t=s(4650),r=s(6338);function J(l,n){if(1&l&&(t.TgZ(0,"mat-list-option",4),t._uU(1),t.qZA()),2&l){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.label)}}class d{constructor(n,e){this._dialogRef=n,this.title=e.title,this.options=e.options}onSelectionChange(n){this._dialogRef.close(n.options[0].value)}static#t=this.\u0275fac=function(e){return new(e||d)(t.Y36(C.so),t.Y36(C.WI))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-list-chooser"]],decls:5,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"multiple","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"mat-selection-list",2),t.NdJ("selectionChange",function(a){return o.onSelectionChange(a)}),t.YNc(4,J,2,2,"mat-list-option",3),t.qZA()()),2&e&&(t.xp6(1),t.Oqu(o.title),t.xp6(2),t.Q6J("multiple",!1),t.xp6(1),t.Q6J("ngForOf",o.options))},dependencies:[y.sg,r.Ub,r.vS],encapsulation:2})}function Z(l,n,e,o,i,a,h){try{var u=l[a](h),p=u.value}catch(R){return void e(R)}u.done?n(p):Promise.resolve(p).then(o,i)}var E=s(2076);const I={mode:"2-spaces"};class c{constructor(){}formatte(n,e){return(0,E.D)(this.f(n,{...I,...e}))}f(n,e){return function A(l){return function(){var n=this,e=arguments;return new Promise(function(o,i){var a=l.apply(n,e);function h(p){Z(a,o,i,h,u,"next",p)}function u(p){Z(a,o,i,h,u,"throw",p)}h(void 0)})}}(function*(){let o;return o="tabs"===e.mode?"\t":"4-spaces"===e.mode?4:2,yield JSON.stringify(JSON.parse(n),null,o)})()}static#t=this.\u0275fac=function(e){return new(e||c)};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac})}var N=s(357),O=s(76),U=s(235),S=s(7866);const M="jsonFormatter",_={indentMode:"2-spaces"};class m{constructor(n,e,o){this.jsonService=n,this.localStorageService=e,this._dialog=o,this.error=null,this._indentMode="2-spaces",this._input="",this.output="",this.localStorageService.getItem(M,_).subscribe(i=>{this._indentMode=i.indentMode})}get indentMode(){return this._indentMode}set indentMode(n){this._indentMode=n,this.somthingChanged()}set input(n){this._input=n,this.somthingChanged()}get input(){return this._input}ngOnInit(){this.input="{\n}"}openIndentModeChooser(){this._dialog.open(d,{width:"250px",data:{title:"Choose the indentition method",options:[{value:"2-spaces",label:"2 spaces"},{value:"4-spaces",label:"4 spaces"},{value:"tabs",label:"tabs"}]}}).afterClosed().subscribe(o=>{this.indentMode=o})}somthingChanged(){this.localStorageService.setItem(M,{indentMode:this._indentMode}),this.jsonService.formatte(this._input,{mode:this._indentMode}).subscribe({next:n=>{this.error=null,this.output=n},error:n=>{this.error=n instanceof Error?n.message:n}})}static#t=this.\u0275fac=function(e){return new(e||m)(t.Y36(c),t.Y36(N.n),t.Y36(C.uw))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-json-formatter"]],decls:14,vars:4,consts:[["mat-list-item","",3,"click"],["matListItemTitle",""],["matListItemLine",""],[3,"input","error","inputChange"],[3,"highlight"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2,"JSON Formater"),t.qZA(),t.TgZ(3,"app-configuration")(4,"mat-list")(5,"a",0),t.NdJ("click",function(){return o.openIndentModeChooser()}),t.TgZ(6,"h4",1),t._uU(7,"Indentation"),t.qZA(),t.TgZ(8,"p",2)(9,"span"),t._uU(10),t.qZA()()()()(),t.TgZ(11,"app-input",3),t.NdJ("inputChange",function(a){return o.input=a}),t.qZA(),t.TgZ(12,"pre"),t._UZ(13,"code",4),t.qZA()()),2&e&&(t.xp6(10),t.hij("Indentied with ",o.indentMode,""),t.xp6(1),t.Q6J("input",o.input)("error",o.error),t.xp6(2),t.Q6J("highlight",o.output))},dependencies:[r.i$,r.Tg,r.WW,r.sL,O.B,U.a,S.y$],encapsulation:2})}class f{constructor(){}static#t=this.\u0275fac=function(e){return new(e||f)};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-formatters"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"formaters works!"),t.qZA())},encapsulation:2})}const L=[{path:"",component:f},{path:"json",component:m}];class g{static#t=this.\u0275fac=function(e){return new(e||g)};static#e=this.\u0275mod=t.oAB({type:g});static#n=this.\u0275inj=t.cJS({imports:[F.Bz.forChild(L),F.Bz]})}var j=s(5142);class v{static#t=this.\u0275fac=function(e){return new(e||v)};static#e=this.\u0275mod=t.oAB({type:v});static#n=this.\u0275inj=t.cJS({providers:[c],imports:[y.ez,g,j.m,S._l]})}}}]);